categorizar_artefatos_task:
  description: >
    Baseado na decis√£o do agente de entrada: {input},
    Recebe uma lista de artefatos t√©cnicos, tecnologias, frameworks ou linguagens de programa√ß√£o.
    N√ÉO INVENTE artefatos que n√£o estejam na *ENTRADA*.
    Identifique e Categorize os artefatos da *ENTRADA* nas seguintes categorias:
        - Linguagem de Programa√ß√£o
        - Arquitetura de Sistemas
        - Infraestrutura
        - Banco de Dados
        - DevSecOps / Governan√ßa
    Inclua-a a vers√£o do Artefato.
    SEMPRE deve seguir ORDEM de CATEGORIA
    N√£o gere recomenda√ß√µes. N√£o forne√ßa explica√ß√µes.
    A sa√≠da deve ser uma tabela de categoriza√ß√£o conforme o exemplo abaixo:
        Uma linha por categoria, mesmo que n√£o se aplique.
        Use "(Nenhum)" na coluna de Artefatos se a categoria n√£o se aplicar.
    IMPORTANTE: 
    - Use APENAS \n (quebra simples) para quebras de linha na tabela
    - N√ÉO use \n\n (quebra dupla) 
    - Mantenha sempre as 5 categorias na ordem especificada
    - Use "(Nenhum)" se n√£o houver artefatos para uma categoria
    - SEMPRE use os campos CATEGORIA e ARTEFATOS na tabela;
    - Saida em tabela_categorizacao
  expected_output: >
    Usar sempre esse Modelo de Sa√≠da (com quebras simples \n):   
    | Categoria                 | Artefatos                     |\n|---------------------------|-------------------------------|\n| Linguagem de Programa√ß√£o  | Java 11, Java 8, TypeScript   |\n| Arquitetura de Sistemas   | Jboss, WebSphere v.8.5, nginx |\n| Infraestrutura            | nginx, Jboss e WebSphere      |\n| Banco de Dados            | DB2, SQL Server 2016, SQL Server 2019 |\n| DevSecOps / Governan√ßa    | (Nenhum)                      |
  agent: agente_categorizador_de_artefatos

analisar_linguagem_task:
  description: >
    Somente Analisar se houver dados do Categorizador de Artefatos.
    Analisar SOMENTE a categoria *Linguagem de programa√ß√£o* e avaliar sua modernidade e maturidade.
    Se a categoria possuir campo vazio ou "(Nenhum)", responda que n√£o h√° linguagem para analisar.
    Considere os seguintes crit√©rios para a avalia√ß√£o:
        A vers√£o √© LTS?
        Ainda tem suporte? 
        √â uma linguagem moderna?
        Possui bibliotecas/frameworks atualizados?
        H√° evid√™ncias de testes automatizados?
        H√° c√≥digo legado em refatora√ß√£o?
    Sugira melhorias ou moderniza√ß√µes se necess√°rio.
    Confirme se a vers√£o da linguagem ainda √© suportada.
    Gere uma metrica de modernidade de 0 a 10.
    Acesse o MCP para buscar informa√ß√µes atualizadas sobre a linguagem, se necess√°rio.
    Saida em linguagem_analise
  expected_output: >
    Exemplo de an√°lise para Java 11:
    
    
    ## Linguagem de Programa√ß√£o:
    ### Java 11
    ‚úÖ **Modernidade e Suporte**:
    - Java 11 √© uma vers√£o est√°vel e amplamente utilizada em ambientes corporativos.
    - Ainda possui suporte oficial da Oracle e da comunidade OpenJDK.
    
    
    üìö **Bibliotecas e Frameworks**:
    - O projeto utiliza frameworks modernos como **Spring Boot 2.7**, que √© compat√≠vel com Java 11.
    - As depend√™ncias est√£o atualizadas via Maven, com controle de vers√µes centralizado.
    
    
    üß™ **Testes Automatizados**:
    - H√° evid√™ncias de testes automatizados com **JUnit 5** e cobertura de c√≥digo via **JaCoCo**.
    - O pipeline CI inclui etapas de teste e valida√ß√£o antes do deploy.
    
    
    üõ†Ô∏è **C√≥digo Legado e Refatora√ß√£o**:
    - Algumas classes antigas ainda utilizam padr√µes do Java 8, mas est√£o sendo gradualmente refatoradas para aproveitar recursos como `var`, `HttpClient` e melhorias de desempenho.
    
    
    üí° **Sugest√µes de melhoria**:
    - Avaliar a migra√ß√£o para **Java 17 LTS**, que oferece melhorias de performance e novos recursos de linguagem.
    - Adotar ferramentas de an√°lise est√°tica como **SonarQube** para refor√ßar a qualidade do c√≥digo.
    - Expandir os testes automatizados para incluir testes de integra√ß√£o com banco de dados e APIs externas.
  agent: agente_de_linguagem
  context:
    - categorizar_artefatos_task

analisar_sistemas_task:
  description: >
    Somente Analisar se houver dados do Categorizador de Artefatos.
    Analisar SOMENTE a categoria *Arquitetura de Sistemas* e avaliar sua modernidade e maturidade.
    Se a categoria possuir campo vazio ou "(Nenhum)", responda que n√£o h√° arquitetura para analisar.
    Considere os seguintes crit√©rios para a avalia√ß√£o:
        A arquitetura √© monol√≠tica, modular ou baseada em microsservi√ßos?
        Utiliza padr√µes modernos de design (ex: REST, event-driven)?
        H√° evid√™ncias de escalabilidade e resili√™ncia?
        Est√° preparada para nuvem (cloud-native)?
    Sugira melhorias ou moderniza√ß√µes se necess√°rio.
    Gere uma metrica de modernidade de 0 a 10.
    Acesse o MCP para buscar informa√ß√µes atualizadas sobre arquitetura, se necess√°rio.
    Saida em arquitetura_analise.
  expected_output: >
    Exemplo de an√°lise para Arquitetura Monol√≠tica:
    ## Arquitetura de Sistemas:
    ### Arquitetura Monol√≠tica
    ‚ùå **Modernidade e Escalabilidade**:
    - A arquitetura monol√≠tica pode limitar a escalabilidade horizontal e a agilidade no desenvolvimento.
    - Considerar a ado√ß√£o de uma arquitetura baseada em microsservi√ßos para melhorar a modularidade e escalabilidade.
    ‚öôÔ∏è **Padr√µes de Design**:
    - Atualmente, a aplica√ß√£o utiliza APIs REST, o que √© positivo.
    - Avaliar a introdu√ß√£o de padr√µes event-driven para melhorar a reatividade e resili√™ncia.
    ‚òÅÔ∏è **Prepara√ß√£o para Nuvem**:
    - A aplica√ß√£o n√£o √© totalmente cloud-native, o que pode dificultar a migra√ß√£o para ambientes em nuvem.
    - Recomenda-se a ado√ß√£o de cont√™ineres (Docker) e orquestra√ß√£o (Kubernetes) para facilitar a implanta√ß√£o em nuvem.
    üí° **Sugest√µes de melhoria**:
    - Iniciar um plano de migra√ß√£o gradual para microsservi√ßos, come√ßando pelos m√≥dulos mais cr√≠ticos.
    - Implementar pr√°ticas de DevOps para acelerar o ciclo de desenvolvimento e implanta√ß√£o.
    - Avaliar o uso de plataformas de nuvem como AWS, Azure ou GCP para aproveitar servi√ßos gerenciados e escalabilidade autom√°tica.
  agent: agente_de_sistemas
  context:
    - categorizar_artefatos_task

analisar_infraestrutura_task:
  description: >
    Somente Analisar se houver dados do Categorizador de Artefatos.
    Analisar SOMENTE a categoria *Infraestrutura* e avaliar sua modernidade e maturidade.
    Se a categoria possuir campo vazio ou "(Nenhum)", responda que n√£o h√° infraestrutura para analisar.
    Considere os seguintes crit√©rios para a avalia√ß√£o:
        A infraestrutura √© on-premises, cloud ou h√≠brida?
        Utiliza cont√™ineres e orquestra√ß√£o (ex: Docker, Kubernetes)?
        H√° evid√™ncias de automa√ß√£o (ex: IaC, CI/CD)?
        Possui monitoramento e logging adequados?
    Sugira melhorias ou moderniza√ß√µes se necess√°rio.
    Gere uma metrica de modernidade de 0 a 10.
    Acesse o MCP para buscar informa√ß√µes atualizadas sobre infraestrutura, se necess√°rio.
    Saida em infraestrutura_analise.
  expected_output: >
    Exemplo de an√°lise para Infraestrutura On-Premises:
    ## Infraestrutura:
    ### Infraestrutura On-Premises
    ‚ö†Ô∏è **Modernidade e Flexibilidade**:
    - A infraestrutura on-premises pode limitar a escalabilidade e agilidade.
    - Considerar a ado√ß√£o de uma estrat√©gia h√≠brida ou migra√ß√£o para nuvem para aproveitar a elasticidade e servi√ßos gerenciados.
    üê≥ **Cont√™ineres e Orquestra√ß√£o**:
    - Ado√ß√£o de cont√™ineres (ex: Docker) e orquestra√ß√£o (ex: Kubernetes) pode melhorar a portabilidade e escalabilidade.
    - Implementar pr√°ticas de CI/CD para automa√ß√£o de testes e implanta√ß√µes.
    ‚öôÔ∏è **Automa√ß√£o**:
    - Utiliza√ß√£o de Infrastructure as Code (IaC) com ferramentas como Terraform ou Ansible pode aumentar a efici√™ncia e reduzir erros manuais.
    - Automatizar processos de provisionamento e configura√ß√£o.
    üìä **Monitoramento e Logging**:
    - Implementar solu√ß√µes de monitoramento (ex: Prometheus, Grafana) para visibilidade em tempo real.
    - Centralizar logs com ferramentas como ELK Stack ou Splunk para facilitar a an√°lise.
    üí° **Sugest√µes de melhoria**:
    - Avaliar a migra√ß√£o para uma solu√ß√£o de nuvem p√∫blica (AWS, Azure, GCP) para maior flexibilidade.
    - Adotar pr√°ticas de DevOps para acelerar o ciclo de desenvolvimento e implanta√ß√£o.
    - Investir em seguran√ßa da infraestrutura, incluindo firewalls, VPNs e pol√≠ticas de acesso.
  agent: agente_de_infraestrutura
  context:
    - categorizar_artefatos_task

analisar_bd_task:
  description: >
    Somente Analisar se houver dados do Categorizador de Artefatos.
    Analisar **SOMENTE** a categoria *Banco de Dados* e avaliar sua modernidade, suporte, seguran√ßa e desempenho.
    Se a categoria possuir campo vazio ou "(Nenhum)", responda que n√£o h√° banco de dados para analisar.
    Considere os seguintes crit√©rios para a avalia√ß√£o:
        A vers√£o √© atual e suportada?
        Possui mecanismos de replica√ß√£o e backup?
        Quais pr√°ticas de seguran√ßa s√£o aplicadas (criptografia, controle de acesso)?
        H√° evid√™ncias de monitoramento e tuning de desempenho?
    Sugira melhorias ou moderniza√ß√µes se necess√°rio.
    Gere uma metrica de modernidade de 0 a 10.
    Acesse o MCP para buscar informa√ß√µes atualizadas sobre o banco de dados, se necess√°rio.
    Saida em banco_de_dados_analise.
  expected_output: >
    Exemplo de an√°lise para PostgreSQL 14:
    
    
    ## Banco de Dados:
    ### PostgreSQL 14
    
    
    ‚úÖ **Modernidade e Suporte**:
    - A vers√£o 14 do PostgreSQL √© est√°vel e suporte encerra-se em novembro de 2026.
    - H√° suporte ativo da comunidade e documenta√ß√£o oficial.
    
    
    üîÑ **Replica√ß√£o e Backup**:
    - O ambiente utiliza **replica√ß√£o ass√≠ncrona** entre servidores para alta disponibilidade.
    - Backups s√£o realizados diariamente via `pg_dump` e armazenados em ambiente seguro.
    
    
    üîê **Seguran√ßa**:
    - A base de dados utiliza **criptografia em repouso** via LUKS no disco.
    - O acesso √© controlado por roles e permiss√µes espec√≠ficas.
    - Autentica√ß√£o via LDAP integrada ao AD corporativo.
    
    
    üìà **Desempenho e Monitoramento**:
    - Ferramentas como **pg_stat_statements** e **Prometheus + Grafana** s√£o utilizadas para monitoramento.
    - H√° evid√™ncias de tuning de queries e √≠ndices com base em an√°lise de planos de execu√ß√£o.
    
    
    üí° **Sugest√µes de melhoria**:
    - Avaliar a ado√ß√£o de **PostgreSQL 15 ou superior** para recursos avan√ßados de paralelismo.
    - Implementar **backup incremental** com ferramentas como `barman` ou `pgBackRest`.
    - Refor√ßar a auditoria de acessos com logs centralizados.
    - Considerar a ado√ß√£o de **particionamento** para tabelas muito grandes, melhorando desempenho.
  agent: agente_de_banco_dados
  context:
    - categorizar_artefatos_task

analisar_devsecops_task:
  description: >
    Somente Analisar se houver dados do Categorizador de Artefatos.
    Analisar SOMENTE a categoria *DevSecOps / Governan√ßa* e avaliar sua modernidade e maturidade.
    Se a categoria possuir campo vazio ou "(Nenhum)", responda que n√£o h√° DevSecOps para analisar.
    Considere os seguintes crit√©rios para a avalia√ß√£o:
        Quais ferramentas de CI/CD s√£o utilizadas?
        H√° pr√°ticas de seguran√ßa integradas no pipeline (ex: SAST, DAST)?
        Utiliza Infrastructure as Code (IaC)?
        H√° evid√™ncias de monitoramento e compliance?
    Sugira melhorias ou moderniza√ß√µes se necess√°rio.
    Gere uma metrica de modernidade de 0 a 10.
    Acesse o MCP para buscar informa√ß√µes atualizadas sobre DevSecOps, se necess√°rio.
    Saida em devsecops_analise.
  expected_output: >
    Exemplo de an√°lise para Jenkins e GitLab CI:
    ## DevSecOps / Governan√ßa:
    ### Jenkins e GitLab CI
    ‚úÖ **Ferramentas de CI/CD**:
    - O uso combinado de Jenkins e GitLab CI oferece flexibilidade e robustez no pipeline de integra√ß√£o e entrega cont√≠nua.
    - Jenkins √© utilizado para builds complexos, enquanto GitLab CI √© integrado ao reposit√≥rio Git para automa√ß√£o de testes e deploy.
    üîí **Pr√°ticas de Seguran√ßa**:
    - Integra√ß√£o de ferramentas SAST e DAST no pipeline para identifica√ß√£o de vulnerabilidades.
    - Uso de vari√°veis de ambiente para gerenciamento seguro de credenciais.
    - Implementa√ß√£o de controles de acesso baseados em fun√ß√£o (RBAC) no GitLab.
    üì¶ **Infrastructure as Code (IaC)**:
    - Utiliza√ß√£o de Terraform para provisionamento de infraestrutura em nuvem.
    - Armazenamento de configura√ß√µes em reposit√≥rios Git para versionamento.
    üìä **Monitoramento e Compliance**:
    - Implementa√ß√£o de monitoramento de logs com ELK Stack.
    - Auditoria de acessos e mudan√ßas em infraestrutura.
    üí° **Sugest√µes de melhoria**:
    - Avaliar a ado√ß√£o de ferramentas de IaC para maior consist√™ncia e reprodutibilidade.
    - Implementar testes automatizados para valida√ß√£o de seguran√ßa em cada etapa do pipeline.
    - Refor√ßar a cultura DevSecOps com treinamentos e workshops para a equipe.
    - Considerar a ado√ß√£o de ferramentas de orquestra√ß√£o de containers como Kubernetes para maior escalabilidade.
  agent: agente_de_devsecops
  context:
    - categorizar_artefatos_task

resumir_resultados_task:
  description: >
    Analisar os resultados das tarefas anteriores e gerar um relat√≥rio t√©cnico consolidado:
    Se houver codigo de programa√ß√£o para analisar, gere a an√°lise do c√≥digo.
    Se houver artefatos t√©cnicos para categorizar, gere a tabela do categorizador_de_artefatos_task e gere um relat√≥rio t√©cnico consolidado.
    O relat√≥rio deve focar em quais categorias o usuario deve focar para ter um indice mais moderno;
    O relatorio deve ser adequado para um p√∫blico t√©cnico. Use uma linguagem formal e t√©cnica, evitando jarg√µes desnecess√°rios.
    A An√°lise √© por categoria.
  expected_output: >
    # Relat√≥rio T√©cnico de An√°lise - Sistema S123
    
    
    | Categoria                 | Artefatos | Modernidade (0-10) |
    |---------------------------|----------|    --------------------|    
    | Linguagem de Programa√ß√£o  | java 11, java 8, Typescript |  7 |
    | Arquitetura de Sistemas   | Jboss, WebSphere 8.5, nginx |   4 |
    | Infraestrutura            | nginx, Jboss, WebSphere |  3.5  |
    | Banco de Dados            | DB2, SQL SERVER 2016, SQL SERVER 2019 |       7.3 |       
    | DevSecOps / Governan√ßa    | (NENHUM) |  0 |
    
    
    ### An√°lise de Linguagem de Programa√ß√£o
    Modernidade: 7/10
    
    
    - Java 11 e Java 8: ambas est√£o em modo EOL (End of Life), ou seja, fora do ciclo oficial de suporte p√∫blico. Seu uso implica riscos elevados de seguran√ßa, limita√ß√µes de compatibilidade com frameworks modernos e tend√™ncia de problemas com inova√ß√£o e compliance regulat√≥rio. Recomenda-se migra√ß√£o imediata para vers√µes oficialmente suportadas, como Java 17 LTS ou superior.
    - TypeScript: ponto positivo na stack, pois √© refer√™ncia para aplica√ß√µes modernas em front-end e fullstack, por√©m a aus√™ncia de backends atualizados limita o ganho. Adotar TypeScript nas vers√µes mais recentes e associ√°-lo a solu√ß√µes serverless ou microsservi√ßos pode elevar consideravelmente a modernidade da categoria.
    Sugest√£o principal: Priorizar a atualiza√ß√£o de todas as bases Java para release LTS vigente e atrelar pr√°ticas de CI/CD modernas com cobertura de testes automatizados e ferramentas de qualidade, como SonarQube.
    
    
    ### An√°lise de Banco de Dados
    Modernidade: 7.3/10
    
    -DB2 (12.x): bastante avan√ßado, moderno, com recursos de AI e cloud, m√©tricas robustas de seguran√ßa, replica√ß√£o e monitoramento. Ideal avaliar uso de servi√ßos gerenciados na nuvem.
    -SQL Server 2016: pr√≥ximo do fim do suporte estendido, limita uso de recursos e integridade. Sugest√£o de migra√ß√£o imediata para SQL Server 2019 ou superior.
    -SQL Server 2019: atualizado, seguro, escal√°vel e preparado para ambientes h√≠bridos/cloud. Recomenda-se futura atualiza√ß√£o para SQL Server 2022.
    M√©dia da categoria √© razo√°vel; migrar inst√¢ncias defasadas e integrar ferramentas de auditoria e automa√ß√£o para maior modernidade e seguran√ßa.
    
    
    ### An√°lise de Arquitetura de Sistemas
    Modernidade: 4/10
    
    -JBoss e WebSphere v.8.5: uso demonstra predomin√¢ncia de arquitetura tradicional monol√≠tica, com limita√ß√£o de escalabilidade e alto risco operacional/legado. WebSphere 8.5 encontra-se amplamente considerado obsoleto no mercado, com desafios para integra√ß√µes e evolu√ß√£o.
    -nginx: elemento positivo como proxy e balanceador, permite moderniza√ß√µes r√°pidas se integrado a pr√°ticas de containeriza√ß√£o e cloud.
    N√£o h√° evid√™ncias concretas de uso disseminado de containers, orquestra√ß√£o ou padr√µes de microsservi√ßos/aplica√ß√µes cloud-native. Recomenda-se investimento na refatora√ß√£o da arquitetura, priorizando microsservi√ßos, containers (Docker), orquestra√ß√£o (Kubernetes) e componentes open-source.
    Principal foco de moderniza√ß√£o: transi√ß√£o arquitetural para cloud-native, ado√ß√£o progressiva de microsservi√ßos, automa√ß√£o e APIs modernas.
    
    ### An√°lise de Infraestrutura
    Modernidade: 3.5/10
    Predomina ambiente tradicional (on-premises ou virtualizado) com servidores de aplica√ß√£o convencionais e nginx, sem ind√≠cios de cloud, containeriza√ß√£o ou automa√ß√£o avan√ßada.
    Aus√™ncia de pr√°ticas de Infrastructure as Code (IaC), automa√ß√£o CI/CD, monitoramento proativo e orquestra√ß√£o indica lacunas em escalabilidade e agilidade operacional.
    Recomenda√ß√£o: evoluir para infraestrutura baseada em containers (Docker), orquestrada por Kubernetes, com automa√ß√£o (Terraform, Ansible) e monitoramento/logging centralizado (Prometheus, Grafana, ELK/Splunk).
    Grande oportunidade de ganho ao migrar ambiente para arquitetura h√≠brida ou cloud, elevando fortemente o √≠ndice de modernidade da categoria.
    
    ### An√°lise de DevSecOps / Governan√ßa
    Modernidade: 0/10
    N√£o h√° artefatos, pr√°ticas ou ferramentas DevSecOps/governan√ßa implementados ou catalogados.
    Forte lacuna em seguran√ßa, automa√ß√£o, compliance e rastreabilidade.
    Recomenda√ß√£o: iniciar imediatamente esfor√ßos para ado√ß√£o de DevSecOps com integra√ß√£o de pipelines CI/CD, automa√ß√£o de seguran√ßa (SAST/DAST), pr√°ticas de Infrastructure as Code (Terraform/Ansible), monitoramento cont√≠nuo e controles de auditoria/governan√ßa. Implementa√ß√£o acelerada de DevSecOps elevar√° substancialmente o √≠ndice de maturidade e modernidade do ecossistema.
    Resumo executivo para tomada de decis√£o:

    ### Para alcan√ßar √≠ndices de modernidade competitivos, recomenda-se foco priorit√°rio em:

    Migra√ß√£o das linguagens e frameworks para vers√µes LTS suportadas e integra√ß√£o de ferramentas modernas.
    Evolu√ß√£o arquitetural em dire√ß√£o a microsservi√ßos, containers e cloud-native, abandonando servidores de aplica√ß√£o legados.
    Iniciativas de automa√ß√£o, monitoramento e logging centralizado na infraestrutura, com IaC e DevOps.
    Atualiza√ß√£o autom√°tica e fortalecimento de seguran√ßa/auditoria dos bancos de dados com integra√ß√£o cloud onde poss√≠vel.
    Implementa√ß√£o acelerada de pr√°ticas e ferramentas DevSecOps, integrando seguran√ßa, compliance e entrega cont√≠nua ponta-a-ponta.
    Estas a√ß√µes devem ser acompanhadas por avalia√ß√£o de d√©bitos t√©cnicos, parcerias estrat√©gicas e capacita√ß√£o da equipe em tecnologias de cloud, containers, automa√ß√£o e seguran√ßa.                """,
  agent: agente_integracao
  context:
    - analisar_linguagem_task
    - analisar_sistemas_task
    - analisar_infraestrutura_task
    - analisar_bd_task
    - analisar_devsecops_task
    - categorizar_artefatos_task
